"use strict";(self.webpackChunkhome_cms_front=self.webpackChunkhome_cms_front||[]).push([[811],{9811:function(e,n,i){i.d(n,{N:function(){return k},h:function(){return C}});var r=i(2558),o=i(237),l=i(1871),a=i(9849),s=i(6871),d=i(2791),u=i(5884),t="ProfilePage_styled__FiNHz",c="ProfilePage_half__Zlf9Y",v="ProfilePage_group__FDnE6",f="ProfilePage_footer__RGPsz",h=i(184),x=function(){var e=(0,l.aC)(),n=e.profile,i=e.handleLogout,r=(0,l.pN)().addError,a=(0,l.yK)(),s=a.apiData,x=a.apiErrors,p=a.isLoading,m=a.isError,j=(0,l._j)(),g=j.apiData,_=j.apiErrors,y=j.isLoading,I=j.isError,N=(0,d.useMemo)((function(){return null!==n&&void 0!==n?n:{company:null}}),[n]).company,b=(0,d.useMemo)((function(){return m}),[m]),P=(0,d.useMemo)((function(){return I}),[I]);return(0,d.useEffect)((function(){b&&(null===x||void 0===x||x.forEach((function(e){return r(e)}))),P&&(null===_||void 0===_||_.forEach((function(e){return r(e)})))}),[b,P]),(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)(o.II,{value:null===N||void 0===N?void 0:N.name,heading:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}),(0,h.jsx)(o.Kx,{value:null===N||void 0===N?void 0:N.fullName,heading:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}),y?(0,h.jsx)(o.Od,{mode:o.rs.INPUT,withLoader:!0,heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}):I?(0,h.jsx)(o.II,{value:"",heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}):(0,h.jsx)(o.II,{value:(0,u.s9)(g,null===N||void 0===N?void 0:N.type),heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}),p?(0,h.jsx)(o.Od,{mode:o.rs.INPUT,withLoader:!0,heading:"\u0420\u0430\u0439\u043e\u043d"}):m?(0,h.jsx)(o.II,{value:"",heading:"\u0420\u0430\u0439\u043e\u043d",readOnly:!0}):(0,h.jsx)(o.II,{value:(0,u.s9)(s,null===N||void 0===N?void 0:N.district),heading:"\u0420\u0430\u0439\u043e\u043d",readOnly:!0})]}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)(o.II,{value:null===N||void 0===N?void 0:N.supervisor,heading:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}),(0,h.jsx)(o.II,{value:null===N||void 0===N?void 0:N.responsible,heading:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0437\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438",readOnly:!0}),(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)(o.H3,{children:"\u041e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),(0,h.jsx)(o.XZ,{checked:null===N||void 0===N?void 0:N.educationLicense,readOnly:!0,label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})}),(0,h.jsx)(o.XZ,{checked:null===N||void 0===N?void 0:N.medicineLicense,readOnly:!0,label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})}),(0,h.jsx)(o.XZ,{checked:null===N||void 0===N?void 0:N.innovationGround,readOnly:!0,label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0438 \u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"})})]})]}),(0,h.jsx)("div",{className:f,children:(0,h.jsx)(o.aU,{isDeleteMode:!0,text:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",onClick:i})})]})},p=i(4942),m=i(1413),j=i(5861),g=i(885),_=i(7757),y=i.n(_),I=i(1544),N=i(709),b="ProfileEditorPage_styled__0FZcI",P="ProfileEditorPage_half__39XHi",O="ProfileEditorPage_group__dwgMz",L="ProfileEditorPage_footer__y7a1A",E="ProfileEditorPage_footer__button__alYpF",Z=function(){var e,n,i,r,a,t,c,v=(0,l.aC)(),f=v.profile,x=v.updateProfile,_=(0,l.pN)().addError,Z=(0,s.s0)(),k=(0,d.useMemo)((function(){return null!==f&&void 0!==f?f:{company:null}}),[f]).company,C=(0,l.yK)(),M=C.apiData,T=C.apiErrors,w=C.isLoading,D=C.isError,G=(0,l._j)(),U=G.apiData,X=G.apiErrors,F=G.isLoading,K=G.isError,z=(0,d.useMemo)((function(){return D}),[D]),A=(0,d.useMemo)((function(){return K}),[K]);(0,d.useEffect)((function(){z&&(null===T||void 0===T||T.forEach((function(e){return _(e)}))),A&&(null===X||void 0===X||X.forEach((function(e){return _(e)})))}),[z,A]);var H=(0,d.useState)(!1),J=(0,g.Z)(H,2),S=J[0],R=J[1],Y=(0,d.useState)(!1),q=(0,g.Z)(Y,2),B=q[0],Q=q[1],V=function(){Q(!B)},W=(0,d.useState)({name:(0,u.Jh)(null!==(e=null===k||void 0===k?void 0:k.name)&&void 0!==e?e:"",u.vc),fullName:(0,u.Jh)(null!==(n=null===k||void 0===k?void 0:k.fullName)&&void 0!==n?n:"",u.vc),type:null===k||void 0===k?void 0:k.type,district:null===k||void 0===k?void 0:k.district,supervisor:(0,u.Jh)(null!==(i=null===k||void 0===k?void 0:k.supervisor)&&void 0!==i?i:"",u.vc),responsible:(0,u.Jh)(null!==(r=null===k||void 0===k?void 0:k.responsible)&&void 0!==r?r:"",u.vc),educationLicense:null!==(a=null===k||void 0===k?void 0:k.educationLicense)&&void 0!==a&&a,medicineLicense:null!==(t=null===k||void 0===k?void 0:k.medicineLicense)&&void 0!==t&&t,innovationGround:null!==(c=null===k||void 0===k?void 0:k.innovationGround)&&void 0!==c&&c}),$=(0,g.Z)(W,2),ee=$[0],ne=$[1],ie=function(){var e=(0,j.Z)(y().mark((function e(){var n,i,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(),n={name:ee.name,fullName:ee.fullName,supervisor:ee.supervisor,responsible:ee.responsible},(0,u.Kf)(Object.values(n).map((function(e){return{value:e.value,validator:e.validator}})))){e.next=6;break}return _("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u043b\u044f \u043d\u0430 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),e.abrupt("return");case 6:return R(!0),e.prev=7,e.next=10,I.bl.profile.update(ee);case 10:if(i=e.sent,r=i.errors,o=i.data,!r){e.next=17;break}return r.forEach((function(e){return _(e)})),R(!1),e.abrupt("return");case 17:o?(x({name:ee.name.value,fullName:ee.fullName.value,type:null===ee||void 0===ee?void 0:ee.type,district:null===ee||void 0===ee?void 0:ee.district,supervisor:ee.supervisor.value,responsible:ee.responsible.value,educationLicense:null===ee||void 0===ee?void 0:ee.educationLicense,medicineLicense:null===ee||void 0===ee?void 0:ee.medicineLicense,innovationGround:null===ee||void 0===ee?void 0:ee.innovationGround,status:N.R.CONFIRMATION,cause:null}),Z("/profile")):(R(!1),_("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f!")),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),R(!1),_("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u044f!");case 24:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(){return e.apply(this,arguments)}}(),re=function(e){var n=[e.target.name,e.target.value],i=n[0],r=n[1],o=ee[i].validator(r);ne((0,m.Z)((0,m.Z)({},ee),{},(0,p.Z)({},i,(0,m.Z)((0,m.Z)({},ee[i]),{},{value:r,error:{exist:!o.success,text:o.text}}))))},oe=function(e){return function(){ne((0,m.Z)((0,m.Z)({},ee),{},(0,p.Z)({},e,!ee[e])))}},le=function(e){return function(n){ne((0,m.Z)((0,m.Z)({},ee),{},(0,p.Z)({},e,n)))}};return(0,h.jsxs)("div",{className:b,children:[(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)(o.II,{name:"name",value:ee.name.value,onChange:re,error:ee.name.error,heading:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),(0,h.jsx)(o.Kx,{name:"fullName",value:ee.fullName.value,onChange:re,error:ee.fullName.error,heading:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),F?(0,h.jsx)(o.Od,{mode:o.rs.INPUT,withLoader:!0,heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}):K?(0,h.jsx)(o.II,{value:"",heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",readOnly:!0}):(0,h.jsx)(o.Ph,{value:ee.type,options:U,heading:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",onChangeOption:le("type")}),w?(0,h.jsx)(o.Od,{mode:o.rs.INPUT,withLoader:!0,heading:"\u0420\u0430\u0439\u043e\u043d"}):D?(0,h.jsx)(o.II,{value:"",heading:"\u0420\u0430\u0439\u043e\u043d",readOnly:!0}):(0,h.jsx)(o.Ph,{value:ee.district,options:M,heading:"\u0420\u0430\u0439\u043e\u043d",onChangeOption:le("district")})]}),(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)(o.II,{name:"supervisor",value:ee.supervisor.value,onChange:re,error:ee.supervisor.error,heading:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),(0,h.jsx)(o.II,{name:"responsible",value:ee.responsible.value,onChange:re,error:ee.responsible.error,heading:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0437\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),(0,h.jsxs)("div",{className:O,children:[(0,h.jsx)(o.H3,{children:"\u041e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),(0,h.jsx)(o.XZ,{checked:ee.educationLicense,onToggle:oe("educationLicense"),label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})}),(0,h.jsx)(o.XZ,{checked:ee.medicineLicense,onToggle:oe("medicineLicense"),label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043d\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})}),(0,h.jsx)(o.XZ,{checked:ee.innovationGround,onToggle:oe("innovationGround"),label:(0,h.jsx)(o.xv,{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0438 \u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"})})]})]}),(0,h.jsxs)("div",{className:L,children:[(0,h.jsx)(o.zx,{onClick:V,className:E,isLoading:w||F||S,disabled:D||K,children:(0,h.jsx)(o.xv,{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435"})}),(0,h.jsx)(o.aU,{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",onClick:function(){return Z("/profile")}})]}),(0,h.jsx)(o.u_,{isOpen:B,text:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435? ",submitText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onSubmit:ie,onCancel:V})]})},k=function(){var e,n,i=(0,l.aC)().profile,d=(0,s.s0)();return(0,h.jsxs)(o.Ar,{children:[(0,h.jsx)(o.Oo,{paths:[{link:"/profile",alias:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}]}),(0,h.jsx)(r.CD,{heading:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",status:null===i||void 0===i||null===(e=i.company)||void 0===e?void 0:e.status,cause:(0,h.jsxs)(o.xv,{isMedium:!0,children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438:",(0,h.jsx)("br",{}),null===i||void 0===i||null===(n=i.company)||void 0===n?void 0:n.cause]}),action:(0,h.jsx)(o.aU,{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:(0,h.jsx)(a.dY,{}),onClick:function(){return d("/profile/edit")}})}),(0,h.jsx)(x,{})]})},C=function(){(0,l.aC)().profile,(0,s.s0)();return(0,h.jsxs)(o.Ar,{children:[(0,h.jsx)(o.Oo,{paths:[{link:"/profile",alias:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},{link:"/profile/edit",alias:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}]}),(0,h.jsx)(r.CD,{heading:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,h.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=811.1dfaf025.chunk.js.map